{"version":3,"sources":["../../../../node-day5/The-fourth-chapter/课件6中间件装饰模式/8.middle.js"],"names":["express","require","app","listen","use","req","res","next","t","Date","getTime","end","console","log","arg","call","get","i"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,MAAMF,SAAV;AACAE,IAAIC,MAAJ,CAAW,IAAX;;AAEAD,IAAIE,GAAJ,CAAQ,UAAUC,GAAV,EAAcC,GAAd,EAAkBC,IAAlB,EAAwB;AAC5B,QAAIC,IAAI,IAAIC,IAAJ,GAAWC,OAAX,EAAR,CAD4B,CACA;AAC5B,QAAIC,MAAML,IAAIK,GAAd,CAF4B,CAEX;AACjBL,QAAIK,GAAJ,GAAU,YAAkB;AACxB;AACCC,gBAAQC,GAAR,CAAY,IAAIJ,IAAJ,GAAWC,OAAX,KAAqBF,CAAjC;;AAFuB,0CAALM,GAAK;AAALA,eAAK;AAAA;;AAGxBH,YAAII,IAAJ,aAAST,GAAT,SAAgBQ,GAAhB;AACH,KAJD;AAKAP;AACH,CATD;;AAWAL,IAAIc,GAAJ,CAAQ,QAAR,EAAiB,UAAUX,GAAV,EAAcC,GAAd,EAAmB;;AAEhC,SAAI,IAAIW,IAAG,CAAX,EAAaA,IAAE,EAAf,EAAkBA,GAAlB,EACA,CAEC;AACDX,QAAIK,GAAJ,CAAQ,OAAR,EANgC,CAMhB;AACnB,CAPD;AAQAT,IAAIc,GAAJ,CAAQ,OAAR,EAAgB,UAAUX,GAAV,EAAcC,GAAd,EAAmB;;AAE/B,SAAI,IAAIW,IAAG,CAAX,EAAaA,IAAE,GAAf,EAAmBA,GAAnB,EACA,CAEC;AACDX,QAAIK,GAAJ,CAAQ,MAAR;AAEH,CARD","file":"8.middle.js","sourcesContent":["let express = require('express')\nlet app = express()\napp.listen(8080)\n\napp.use(function (req,res,next) {\n    let t = new Date().getTime()//访问最初的时间\n    let end = res.end//这个是保留的以前的end\n    res.end = function (...arg) {\n        // console.log(arg)\n         console.log(new Date().getTime()-t);\n        end.call(res,...arg);\n    }\n    next()\n})\n\napp.get('/water',function (req,res) {\n\n    for(let i =0;i<10;i++)\n    {\n\n    }\n    res.end('water')//装饰模式\n})\napp.get('/food',function (req,res) {\n\n    for(let i =0;i<100;i++)\n    {\n\n    }\n    res.end('food')\n\n})\n"]}