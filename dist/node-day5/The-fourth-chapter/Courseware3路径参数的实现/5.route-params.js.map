{"version":3,"sources":["../../../../node-day5/The-fourth-chapter/Courseware3路径参数的实现/5.route-params.js"],"names":["express","require","app","listen","get","req","res","end","params","id","name","url","url2","arr","newReg","replace","push","arguments","slice","reg","RegExp","console","log","test","exec","newArr","result","forEach","item","index"],"mappings":";;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,MAAMF,SAAV;AACAE,IAAIC,MAAJ,CAAW,IAAX;;AAEA;AACAD,IAAIE,GAAJ,CAAQ,OAAR,EAAgB,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AAC/BA,QAAIC,GAAJ,CAAQ,YAAR;AACH,CAFD;AAGA;AACA;AACAL,IAAIE,GAAJ,CAAQ,iBAAR,EAA0B,UAAUC,GAAV,EAAcC,GAAd,EAAmB;AACzCA,QAAIC,GAAJ,CAAQ,eAAaF,IAAIG,MAAJ,CAAWC,EAAxB,GAA2BJ,IAAIG,MAAJ,CAAWE,IAA9C;AACH,CAFD;;AAIA,IAAIC,MAAM,WAAV;AACA,IAAIC,OAAK,iBAAT,C,CAA2B;AAC1B;AACD;AACA,IAAIC,MAAK,EAAT;AACA,IAAIC,SAAOF,KAAKG,OAAL,CAAa,UAAb,EAAwB,YAAY;AAC3CF,QAAIG,IAAJ,CAASC,UAAU,CAAV,EAAaC,KAAb,CAAmB,CAAnB,CAAT,EAD2C,CACT;AAClC,WAAO,UAAP;AACH,CAHU,CAAX;AAIA,IAAIC,MAAM,IAAIC,MAAJ,CAAWN,MAAX,CAAV;AACAO,QAAQC,GAAR,CAAYH,IAAII,IAAJ,CAASZ,GAAT,CAAZ,E,CAA0B;AAC1BU,QAAQC,GAAR,CAAYH,IAAIK,IAAJ,CAASb,GAAT,CAAZ,E,CAA0B;AAC1B,IAAIc,SAASN,IAAIK,IAAJ,CAASb,GAAT,CAAb;AACA,IAAIe,SAAQ,EAAZ;AACAb,IAAIc,OAAJ,CAAY,UAAUC,IAAV,EAAeC,KAAf,EAAsB;AAC9BH,WAAOE,IAAP,IAAaH,OAAOI,QAAM,CAAb,CAAb;AACH,CAFD;AAGAR,QAAQC,GAAR,CAAYI,MAAZ,E,CAAmB","file":"5.route-params.js","sourcesContent":["let express = require('express')\nlet app = express()\napp.listen(8080)\n\n// /user?id=1查一个  查所有  路径都是/user 区分查多个还是查一个\napp.get('/user',function (req,res) {\n    res.end('select all')\n})\n//表示id是占位符  必须有 但是可以随机 http://localhost:8080/user/1\n//  /user/1/2 =>{id:1,name:2} = params 一一对应的关系\napp.get('/user/:id/:name',function (req,res) {\n    res.end('select one'+req.params.id+req.params.name)\n})\n\nlet url = '/user/1/2'\nlet url2='/user/:id/:name' //=>{id:1,name:2}   [id,name]\n //将url2转化成一个可以匹配url的正则\n//\nlet arr =[];\nlet newReg=url2.replace(/:[^\\/]+/g,function () {\n    arr.push(arguments[0].slice(1));  //[id,name]\n    return '([^\\/]+)'\n})\nlet reg = new RegExp(newReg)\nconsole.log(reg.test(url))//true\nconsole.log(reg.exec(url))//[ '/user/1/2', '1', '2', index: 0, input: '/user/1/2' ]\nlet newArr = reg.exec(url)\nlet result ={}\narr.forEach(function (item,index) {\n    result[item]=newArr[index+1]\n})\nconsole.log(result)//相当于 req.params { id: '1', name: '2' }\n"]}