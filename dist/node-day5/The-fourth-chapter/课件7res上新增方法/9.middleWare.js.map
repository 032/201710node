{"version":3,"sources":["../../../../node-day5/The-fourth-chapter/课件7res上新增方法/9.middleWare.js"],"names":["app","middleWare","use","cb","push","console","log","req","res","next","index"],"mappings":";;AAAA,SAASA,GAAT,GAAe,CAEd;AACDA,IAAIC,UAAJ,GAAgB,EAAhB;AACA;AACA;AACAD,IAAIE,GAAJ,GAAU,UAAUC,EAAV,EAAc;AACtB,SAAKF,UAAL,CAAgBG,IAAhB,CAAqBD,EAArB;AACEE,YAAQC,GAAR,CAAY,KAAKL,UAAjB;AACE;;;AAGL,CAND;;AAQAD,IAAIE,GAAJ,CAAQ,UAAUK,GAAV,EAAcC,GAAd,EAAkBC,IAAlB,EAAwB;AAC5BJ,YAAQC,GAAR,CAAY,CAAZ;AACCG;AACJ,CAHD;AAIAT,IAAIE,GAAJ,CAAQ,UAAUK,GAAV,EAAcC,GAAd,EAAkBC,IAAlB,EAAwB;AAC5BJ,YAAQC,GAAR,CAAY,CAAZ;AACAG;AACH,CAHD;AAIAT,IAAIE,GAAJ,CAAQ,UAAUK,GAAV,EAAcC,GAAd,EAAkBC,IAAlB,EAAwB;AAC5BJ,YAAQC,GAAR,CAAY,CAAZ;AACH,CAFD;AAGA,IAAII,QAAQ,CAAZ,C,CAAa;AACb,SAASD,IAAT,GAAgB;AACZJ,YAAQC,GAAR,CAAY,UAAQI,KAApB;AACAV,QAAIC,UAAJ,CAAeS,OAAf,EAAwB,IAAxB,EAA6B,IAA7B,EAAkCD,IAAlC;AACH;AACDA","file":"9.middleWare.js","sourcesContent":["function app() {\n    \n}\napp.middleWare =[]\n//每次调用use方法都会把方法存到数组中，默认调用数组的第一项将next方法传递给数组中的函数\n//如果调用此函数会继续执行数组中的下一项\napp.use = function (cb) {\n  this.middleWare.push(cb)\n    console.log(this.middleWare)\n      /*  [ [Function] ]\n        [ [Function], [Function] ]\n        [ [Function], [Function], [Function] ]*/\n}\n\napp.use(function (req,res,next) {\n    console.log(1)\n     next();\n})\napp.use(function (req,res,next) {\n    console.log(2)\n    next();\n})\napp.use(function (req,res,next) {\n    console.log(3)\n})\nlet index = 0//callback\nfunction next() {\n    console.log('index'+index)\n    app.middleWare[index++](null,null,next)\n}\nnext()\n"]}